<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oasis Donation | 浪浪綠洲捐助</title>
    <link rel="stylesheet" href="donorWallet.css">
</head>
<body>
    <!-- Page 1: Intro Page -->
    <div id="intro-page" class="page active">
        <header class="intro-header">
            <h1 class="title-chinese">浪浪綠洲捐助</h1>
            <h1 class="title-english">Oasis Donation</h1>
        </header>

        <div class="intro-button">
            <button class="lang-btn btn-english" onclick="selectLanguage('en')">Start</button>
            <button class="lang-btn btn-chinese" onclick="selectLanguage('zh')">開始</button>
        </div>
        
        <div class="intro-main">
            <div class="image-carousel">
                <div class="carousel-container">
                    <img src="" alt="Intro 1" class="carousel-image">
                    <img src="" alt="Intro 2" class="carousel-image">
                    <img src="" alt="Intro 3" class="carousel-image">
                    <img src="" alt="Intro 4" class="carousel-image">
                </div>
            </div>
        </div>
        
        <!-- footer class="intro-footer">
            <button class="lang-btn btn-english" onclick="selectLanguage('en')">Start</button>
            <button class="lang-btn btn-chinese" onclick="selectLanguage('zh')">開始</button>
        </footer -->

        <footer class="page-footer">
            <p class="footer-organization-name">© 2025 香港犬隻領養配對及教育協會有限公司</p>
        </footer>
    </div>

    <!-- Top Navigation Bar (Pages 2-4) -->
    <nav id="top-nav" class="top-nav hidden">
        <button class="nav-btn" onclick="openScanModal()">📱 <span data-en="Scan QR" data-zh="掃描二維碼">Scan QR</span></button>
        <button class="nav-btn" onclick="showPage('donation-page')">💝 <span data-en="Donation" data-zh="捐款">Donation</span></button>
        <button class="nav-btn" onclick="openSettingsModal()">⚙️ <span data-en="Settings" data-zh="設定">Settings</span></button>
        <button class="nav-btn" onclick="showPage('about-page')">ℹ️ <span data-en="About" data-zh="關於">About</span></button>
    </nav>

    <!-- Page 2: Matching Page -->
    <div id="matching-page" class="page">
        <section class="selection-box">
            <h2 class="section-title" data-en="Please Select" data-zh="請選擇">請選擇</h2>
            
            <div class="needs-section">
                <h3 data-en="NEEDS" data-zh="浪浪需求">NEEDS</h3>
                <div class="cards-carousel needs-carousel">
                    <div class="card" data-type="FOOD" data-price="100" onclick="openSelectModal(this)">
                        <img src="" alt="Food" data-img-const="IMG_NEEDS_1">
                        <p>
                            <span class="line-break" data-en="Nutritional Food" data-zh="營養糧食">營養糧食</span>
                            $100/<span data-en="pc" data-zh="份">份</span>
                        </p>
                    </div>
                    <div class="card" data-type="INSURANCE" data-price="268" onclick="openSelectModal(this)">
                        <img src="" alt="Medical" data-img-const="IMG_NEEDS_2">
                        <p>
                            <span class="line-break" data-en="Medical Insurance" data-zh="醫療保險">醫療保險</span>
                            $268/<span data-en="mo" data-zh="月">月</span>
                        </p>
                    </div>
                    <div class="card" data-type="COLLAR" data-price="330" onclick="openSelectModal(this)">
                        <img src="" alt="Smart Collar" data-img-const="IMG_NEEDS_3">
                        <p>
                            <span class="line-break" data-en="Smart Collar" data-zh="智能頸圈">智能頸圈</span>
                            $330/<span data-en="pc" data-zh="件">件</span>
                        </p>
                    </div>
                    <div class="card" data-type="ADOPTION" data-price="489" onclick="openSelectModal(this)">
                        <img src="" alt="Full Adoption" data-img-const="IMG_NEEDS_4">
                        <p>
                            <span class="line-break" data-en="Full Adoption" data-zh="全面助養">全面助養</span>
                            $489/<span data-en="mo" data-zh="月">月</span>
                        </p>
                    </div>
                </div>
            </div>

            <div class="lives-section">
                <h3 data-en="LIVES" data-zh="浪浪生命">LIVES</h3>
                <div class="cards-carousel lives-carousel">
                    <div class="card" data-type="ALLSTRAY" data-count="1" onclick="openSelectModal(this)">
                        <img src="" alt="All Strays" data-img-const="IMG_LIVES_1">
                        <p data-en="All Oasis Strays" data-zh="全體綠洲浪浪">全體綠洲浪浪</p>
                    </div>
                    <div class="card" data-type="SQUIRREL" data-count="1" onclick="openSelectModal(this)">
                        <img src="" alt="Squirrel Dog" data-img-const="IMG_LIVES_2">
                        <p data-en="Squirrel Dog, 6 yrs" data-zh="松鼠狗,6歲">松鼠狗,6歲</p>
                    </div>
                    <div class="card" data-type="PUG" data-count="1" onclick="openSelectModal(this)">
                        <img src="" alt="Pug Dog" data-img-const="IMG_LIVES_3">
                        <p data-en="Pug Dog, 8 yrs" data-zh="八哥狗,8歲">八哥狗,8歲</p>
                    </div>
                    <div class="card" data-type="TERRIER" data-count="1" onclick="openSelectModal(this)">
                        <img src="" alt="Terrier Dog" data-img-const="IMG_LIVES_4">
                        <p data-en="Terrier Dog, 14 yrs" data-zh="爹利狗,14歲">爹利狗,14歲</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="support-box">
            <h2 class="section-title" data-en="Please Support" data-zh="請支持">請支持</h2>
            
            <div class="donate-row">
                <button class="donate-btn gradient-btn" onclick="showPage('donation-page')">
                    <span data-en="Donate Now" data-zh="立即捐款">立即捐款</span> ✨
                </button>
            </div>

            <div class="member-row">
                <div class="member-greeting">
                    <span id="member-greeting" data-en="I am a guest" data-zh="我是訪客">我是訪客</span>
                </div>
                <button class="login-btn" onclick="openSettingsModal()">
                    <span data-en="Login" data-zh="登入">登入</span> 👤
                </button>
            </div>

            <div class="stats-row">
                <button class="stat-btn" onclick="openTotalDonationsModal()">
                    <span data-en="Check 👉🏻 My Total Donations" data-zh="查看 👉🏻 我的總捐款">查看我的總捐款</span>
                    <div class="stat-amount" id="total-donations">$5,389,730</div>
                </button>
                <button class="stat-btn" onclick="openUsedDonationsModal()">
                    <span data-en="Check 👉🏻 My Used Donations" data-zh="查看 👉🏻 我的已用捐款">查看我的已用捐款</span>
                    <div class="stat-amount" id="used-donations">$3,897,304</div>
                </button>
            </div>
        </section>

        <footer class="page-footer">
            <button class="nav-btn" onclick="showPage('intro-page')">← <span data-en="Back" data-zh="返回">返回</span></button>
            <button class="nav-btn" onclick="showPage('donation-page')"><span data-en="Next" data-zh="下一步">下一步</span> →</button>
        </footer>
    </div>

    <!-- Page 3: Donation Page -->
    <div id="donation-page" class="page">
        <section class="thank-you-box">
            <h2 class="section-title" data-en="Thank You for Donation" data-zh="多謝捐款">多謝捐款</h2>
            
            <div class="donation-summary">
                <div class="selected-items" id="selected-items">
                    <p data-en="Please select items from the matching page" data-zh="請從配對頁面選擇項目">請從配對頁面選擇項目</p>
                </div>
                <div class="total-amount">
                    <span data-en="Total Amount" data-zh="總金額">總金額</span>: $<span id="donation-total">0</span>
                </div>
            </div>

            <button class="pay-btn gradient-btn" onclick="openPaymentModal()">
                <span data-en="Pay by STRIPE" data-zh="使用 STRIPE 付款">使用 STRIPE 付款</span> 💳
            </button>
        </section>

        <section class="donation-complete-box hidden" id="donation-complete">
            <h2 class="section-title" data-en="Donation Complete" data-zh="捐款完成">捐款完成</h2>
            
            <div class="success-animation">
                <div class="checkmark">✓</div>
            </div>

            <div class="transaction-info">
                <p><span data-en="Timestamp" data-zh="時間戳">時間戳</span>: <span id="tx-timestamp"></span></p>
                <p><span data-en="Amount" data-zh="金額">金額</span>: $<span id="tx-amount"></span></p>
                <p><span data-en="Block Number" data-zh="區塊號碼">區塊號碼</span>: <span id="tx-block"></span></p>
                <p><span data-en="Transaction Hash" data-zh="交易雜湊">交易雜湊</span>: <span id="tx-hash"></span></p>
            </div>
        </section>

        <footer class="page-footer">
            <button class="nav-btn" onclick="showPage('matching-page')">← <span data-en="Back" data-zh="返回">返回</span></button>
            <button class="nav-btn" onclick="showPage('about-page')"><span data-en="Next" data-zh="下一步">下一步</span> →</button>
        </footer>
    </div>

    <!-- Page 4: About Page -->
    <div id="about-page" class="page">
        <section class="donation-summary-section">
            <h2 class="section-title" data-en="Donation Summary" data-zh="捐款總結">捐款總結</h2>
            
            <div class="circular-visualization">
                <div class="circle-box total-box">
                    <div class="circle-content">
                        <p data-en="Total Oasis Donations" data-zh="綠洲總捐款">綠洲總捐款</p>
                        <span class="amount">$5,395,119</span>
                    </div>
                    <div class="circle-box used-box">
                        <div class="circle-content">
                            <p data-en="Used Donations" data-zh="已用捐款">已用捐款</p>
                            <span class="amount">$3,898,637</span>
                        </div>
                        <div class="circle-box member-box">
                            <div class="circle-content">
                                <p data-en="Your" data-zh="您">您</p>
                                <span class="amount">$100</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="smart-contract-info">
                <p data-en="Smart Contract: Stablecoin Technology of Quantum-Safe Blockchain" data-zh="智能合約：量子安全區塊鏈的穩定幣科技">智能合約：量子安全區塊鏈上的穩定幣港幣</p>
                <button class="view-contract-btn" onclick="window.open('https://quantumbesu.web.app/', '_blank')">
                    <span data-en="View Contract" data-zh="查看合約">查看合約</span> 🔗
                </button>
            </div>
        </section>

        <section class="about-us-section">
            <h2 class="section-title" data-en="About Us" data-zh="關於我們">關於我們</h2>
            
            <div class="vision-statement">
                <p class="vision-text" data-en="When every stray dog's collar protects the peace of homes, when Sha Tau Kok's data becomes a health beacon for millions of pets —— this is the ultimate proof of barren land reborn as technological kindness." data-zh="當每一隻流浪犬的項圈都在守護家的平安,當沙頭角的數據成為千萬寵物的健康燈塔 —— 這便是荒地重生為科技善意的終極證明。">當每一隻流浪犬的項圈都在守護家的平安,當沙頭角的數據成為千萬寵物的健康燈塔—— 這便是荒地重生為科技善意的終極證明。</p>
            </div>

            <div class="organization-details">
                <p><strong data-en="Executive Organization" data-zh="執行機構">執行機構</strong>: <br>香港犬隻領養配對及教育協會有限公司<br>Dog Adoption Matching and Education Association of Hong Kong Limited<br>(CR No. 2937991)</p>
            </div>
            <div class="organization-details">
                <p data-en="Government Registered NGO, Section 88 Tax Exempted Charitable Institution" data-zh="政府註冊NGO, 稅務條例第88條—豁免繳稅慈善團體">NGO, Section 88</p>
            </div>
            <div class="organization-details">
                <p><strong data-en="Medical InsurancePartner" data-zh="醫療保險夥伴">醫療保險夥伴</strong>:<br>OneDegress Hong Kong Limited</p>
            </div>            
            <div class="organization-details">
                <p><strong data-en="Technology Partner" data-zh="科技合作夥伴">科技合作夥伴</strong>:<br>Real Matter Technology Limited</p>
            </div>
            <div class="organization-details">
                <p><strong data-en="Contact" data-zh="聯絡人">聯絡人</strong>: 陳先生 Mr. Chan</p>
                <p><strong data-en="Phone" data-zh="電話">電話</strong>: 852-63600336</p>
            </div>
        </section>

        <section class="about-us-section">
            <h2 class="section-title" data-en="Our Technologies" data-zh="我們的技術">我們的技術</h2>
            
            <div class="tech-buttons">
                <button class="gradient-btn" onclick="openTechModal('iot')">
                    <span data-en="IoT Technology" data-zh="物聯網科技">物聯網科技</span>
                </button>
                <button class="gradient-btn" onclick="openTechModal('stablecoin')">
                    <span data-en="Stablecoin Technology" data-zh="穩定幣科技">穩定幣科技</span>
                </button>
                <button class="gradient-btn" onclick="openTechModal('insurance')">
                    <span data-en="Insurance Technology" data-zh="保險科技">保險科技</span>
                </button>
            </div>
        </section>

        <footer class="page-footer">
            <button class="nav-btn" onclick="showPage('donation-page')">← <span data-en="Back" data-zh="返回">返回</span></button>
            <button class="nav-btn" onclick="showPage('intro-page')"><span data-en="Home" data-zh="首頁">首頁</span> 🏠</button>
        </footer>
    </div>

    <!-- Modals -->
    
    <!-- Select Modal -->
    <div id="select-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Item Details</h3>
                <button class="close-btn" onclick="closeModal('select-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <img id="modal-image" src="" alt="">
                <div id="modal-details"></div>
                <div class="modal-actions">
                    <button id="select-toggle-btn" class="gradient-btn" onclick="toggleSelection()">Select</button>
                    <button class="cancel-btn" onclick="closeModal('select-modal')">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Member Settings" data-zh="會員設定">會員設定</h3>
                <button class="close-btn" onclick="closeModal('settings-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="login-form" class="login-form">
                    <p><small data-en="Enter your username" data-zh="輸入您的用戶名">輸入您的用戶名</small></p>
                    <input type="text" id="username" placeholder="Username" value="alice">
                    <p><small data-en="Enter your password" data-zh="輸入您的密碼">輸入您的密碼</small></p>
                    <input type="password" id="password" placeholder="Password" value="2345">
                    <button class="login-btn" onclick="login()">
                        <span data-en="Login" data-zh="登入">登入</span>
                    </button>
                </div>
                <div id="member-info" class="member-info hidden">
                    <p><strong data-en="Member Name" data-zh="會員姓名">會員姓名</strong>: Alice</p>
                    <p><strong data-en="Blockchain Address" data-zh="區塊鏈地址">區塊鏈地址</strong>: 0x742d...8B3f</p>
                    <p><strong data-en="Membership Level" data-zh="會員級別">會員級別</strong>: Gold</p>
                    <p><strong data-en="Expiry Date" data-zh="到期日期">到期日期</strong>: 2029-12-31</p>
                    <div>
                    <button class="download-btn" disabled>
                        <span data-en="Download Receipt" data-zh="下載收據">下載收據</span> 📄
                    </button>
                    </div>
                    <div>
                    <button class="logout-btn" onclick="logout()">
                        <span data-en="Logout" data-zh="登出">登出</span>
                    </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Total Donations Modal -->
    <div id="total-donations-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Your Total Donations" data-zh="你的總捐款">你的總捐款</h3>
                <button class="close-btn" onclick="closeModal('total-donations-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p data-en="We utilize stablecoin smart contract technology to ensure secure and reliable donation transactions." data-zh="我們運用穩定幣智能合約科技，確保捐款交易安全和可靠">---</p>
                <p><strong data-en="Contract Address" data-zh="合約地址">合約地址</strong>: 0x1234...ABCD</p>
                <button class="view-btn" onclick="window.open('https://quantumbesu.web.app/', '_blank')">
                    <span data-en="View Stablecoin Contract" data-zh="查看穩定幣合約">查看穩定幣合約</span>
                </button>
                <div class="recent-donations">
                    <h4 data-en="Recent 10 Donations" data-zh="最近10筆捐款">最近10筆捐款</h4>
                    <ul id="donations-list">
                        <li>2025-08-09: $100</li>
                        <li>2025-08-08: $268</li>
                        <li>2025-08-07: $330</li>
                        <li>2025-08-06: $489</li>
                        <li>2025-08-05: $100</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Used Donations Modal -->
    <div id="used-donations-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Your Used Donations" data-zh="你的已用捐款">你的已用捐款</h3>
                <button class="close-btn" onclick="closeModal('used-donations-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p data-en="We employ quantum-secure blockchain technology to maintain transparency and openness of donation data." data-zh="我們運用量子安全區塊鏈科技，維護捐款數據透明和公開">- - -</p>
                <p><strong data-en="Account Address" data-zh="帳戶地址">帳戶地址</strong>: 0x5678...EFGH</p>
                <button class="view-btn" onclick="window.open('https://quantumbesu.web.app/', '_blank')">
                    <span data-en="View Blockchain Data" data-zh="查看區塊鏈數據">查看區塊鏈數據</span>
                </button>
                <div class="purchase-history">
                    <h4 data-en="Purchase History" data-zh="購買記錄">購買記錄</h4>
                    <ul>
                        <li>2025-08-09: <span data-en="Nutritional Food" data-zh="營養糧食">營養糧食</span> - $100</li>
                        <li>2025-08-08: <span data-en="Medical Insurance" data-zh="醫療保險">醫療保險</span> - $268</li>
                        <li>2025-08-07: <span data-en="Smart Collar" data-zh="智能頸圈">智能頸圈</span> - $330</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Scan Modal -->
    <div id="scan-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Scan QR Code" data-zh="掃描二維碼">掃描二維碼</h3>
                <button class="close-btn" onclick="closeModal('scan-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="camera-placeholder">
                    <p data-en="Camera would be activated here" data-zh="相機將在此處啟動">相機將在此處啟動</p>
                    <div class="qr-frame">📱</div>
                </div>
                <div class="scan-actions">
                    <button class="gradient-btn" onclick="simulateScan()">
                        <span data-en="Simulate Scan" data-zh="模擬掃描">模擬掃描</span>
                    </button>
                    <button class="cancel-btn" onclick="closeModal('scan-modal')">
                        <span data-en="Cancel" data-zh="取消">取消</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Payment by STRIPE 💳" data-zh="STRIPE 付款 💳">STRIPE 付款 💳</h3>
                <button class="close-btn" onclick="closeModal('payment-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <form class="payment-form">
                    <p><small data-en="Enter your credit card number" data-zh="輸入您的信用卡號">輸入您的信用卡號</small></p>
                    <input type="text" placeholder="Visa Card Number" value="4242 4242 4242 4242">
                    <p><small data-en="Enter your billing address" data-zh="輸入您的賬單地址">輸入您的賬單地址</small></p>
                    <input type="text" placeholder="Billing Address" value="123 Main St, Hong Kong">
                    <p><small data-en="Enter card holder name" data-zh="輸入持卡人姓名">輸入持卡人姓名</small></p>
                    <input type="text" placeholder="Cardholder Name" value="John Doe">
                    <p><small data-en="Enter your email address" data-zh="輸入您的電子郵件">輸入您的電子郵件</small></p>
                    <input type="email" placeholder="Email" value="john@example.com">
                    <div class="payment-actions">
                        <button class="pay-btn gradient-btn" disabled onclick="processPayment()">
                            <span data-en="Pay" data-zh="付款">付款</span> $<span id="payment-amount">0</span>
                        </button>
                        <button class="cancel-btn" onclick="closeModal('payment-modal')">
                            <span data-en="Cancel" data-zh="取消">取消</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Technology Modals -->
    
    <!-- IoT Technology Modal -->
    <div id="iot-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="IoT Technology" data-zh="物聯網科技">物聯網科技</h3>
                <button class="close-btn" onclick="closeModal('iot-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <img id="iot-image" src="" alt="IoT Technology" data-img-const="IMG_TECH_1">
                <p data-en="Equipped with a smart collar, dogs' real-time health data can be remotely monitored. Through artificial intelligence analysis, potential health issues are detected early for preventive treatment. Combined with medical insurance, dogs' health receives comprehensive protection." data-zh="配備智能頸圈，犬隻的即時健康數據可實現遠程監測，通過人工智能分析，提早發現潛在健康問題並進行預防性治療。結合醫療保險，犬隻健康獲得全面保障。">配備智能頸圈，犬隻的即時健康數據可實現遠程監測，通過人工智能分析，提早發現潛在健康問題並進行預防性治療。結合醫療保險，犬隻健康獲得全面保障。</p>
            </div>
        </div>
    </div>

    <!-- Stablecoin Technology Modal -->
    <div id="stablecoin-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Stablecoin Technology" data-zh="穩定幣科技">穩定幣科技</h3>
                <button class="close-btn" onclick="closeModal('stablecoin-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <img id="stablecoin-image" src="" alt="Stablecoin Technology" data-img-const="IMG_TECH_2">
                <p data-en="Using stablecoin's smart contract technology, donors can direct the use of their donations and check the remaining balance in real-time. Leveraging blockchain's high reliability, it effectively enhances donors' trust and engagement." data-zh="利用穩定幣的智能合約技術，捐款者可定向管理捐款用途，並實時查詢捐款使用餘額。依托區塊鏈的高可靠性，有效提升捐款者的信任與參與積極性。">利用穩定幣的智能合約技術，捐款者可定向管理捐款用途，並實時查詢捐款使用餘額。依托區塊鏈的高可靠性，有效提升捐款者的信任與參與積極性。</p>
            </div>
        </div>
    </div>

    <!-- Insurance Technology Modal -->
    <div id="insurance-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-en="Insurance Technology" data-zh="保險科技">保險科技</h3>
                <button class="close-btn" onclick="closeModal('insurance-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <img id="insurance-image" src="" alt="Insurance Technology" data-img-const="IMG_TECH_3">
                <p data-en="By applying blockchain's verifiable technology, dogs' health and sponsorship data are transformed into accurate big data. Insurance companies offering medical coverage can fully understand the insured situation, thereby reducing premiums and risks." data-zh="應用區塊鏈的可驗證技術，犬隻的健康數據與助養數據轉化為精準的大數據。提供醫療保險的保險公司可充分掌握投保詳情，從而降低保費與風險。">應用區塊鏈的可驗證技術，犬隻的健康數據與助養數據轉化為精準的大數據。提供醫療保險的保險公司可充分掌握投保詳情，從而降低保費與風險。</p>
            </div>
        </div>
    </div>

    <script src="donorWallet.js"></script>
</body>
</html>
